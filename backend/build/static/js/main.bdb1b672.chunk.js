(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{173:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(13),c=n.n(i),r=n(37),s=n(14),l=n(6),d=n(217),j=n(219),h=n(208),u=n(218),b=n(206),p=n(227),g=n(204),x=n(235),m=n(210),O=n(230),f=n(213),w=n(107),y=n.n(w),v=n(209),k=n(106),C=n.n(k),P=n(1),S=n(16),_=Object(g.a)({table:{minWidth:650},TableRow:{TableCell:{color:"white"}}}),N=function(e){var t=e.user,n=e.token,o=_(),i=Object(a.useState)(t.isAdmin),c=Object(l.a)(i,2),r=c[0],s=c[1],d=Object(a.useState)(t.approved),j=Object(l.a)(d,2),u=j[0],p=j[1];return Object(P.jsxs)(b.a,{children:[Object(P.jsx)(h.a,{style:{padding:"0 16px"},children:t.name}),Object(P.jsx)(h.a,{style:{padding:"0 16px"},children:t.email}),Object(P.jsx)(h.a,{style:{padding:"0 16px"},children:u?"Approved":Object(P.jsx)(v.a,{onClick:function(){!function(e){if(window.confirm("Apprrove? This action cannot be reversed")){p(!0);var a={name:t.name,email:t.email,password:t.password,isAdmin:t.isAdmin,approved:!0};S.put("https://".concat(window.location.host,"/users/update/").concat(e),a,{headers:{token:n,"Content-Type":"application/json"}}).then((function(e){window.alert(e.data.message)})).catch((function(e){window.alert("some error occured please check console"),console.log(e)}))}}(t._id)},variant:"contained",color:"primary",children:"Approve"})}),Object(P.jsx)(h.a,{style:{padding:"0 16px"},children:Object(P.jsx)(m.a,{className:o.formControl,children:Object(P.jsxs)(O.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:r,onChange:function(e){!function(e,a){if(r)window.alert("Cannot change role of admin");else if(window.confirm("Make admin? After user is made admin you cannot change back")){s(a.target.value);var o={name:t.name,email:t.email,password:t.password,isAdmin:!0};S.put("https://".concat(window.location.host,"/users/updateRole/").concat(e),o,{headers:{token:n,"Content-Type":"application/json"}}).then((function(e){window.alert(e.data.message)})).catch((function(e){window.alert("some error occured please check console"),console.log(e)}))}}(t._id,e)},children:[Object(P.jsx)(x.a,{value:!0,children:"Admin"}),Object(P.jsx)(x.a,{value:!1,children:"User"})]})})}),Object(P.jsx)(h.a,{style:{padding:"0 16px",textAlign:"center"},children:Object(P.jsx)(C.a,{})}),Object(P.jsx)(h.a,{style:{padding:"0 16px",textAlign:"center"},children:Object(P.jsx)(f.a,{onClick:function(){var e;e=t._id,window.confirm("Want to delete?")&&S.delete("https://".concat(window.location.host,"/users/").concat(e),{headers:{token:n}}).then((function(e){window.alert(e.data.message),window.location.reload()})).catch((function(e){window.alert("some error occured please check console"),console.log(e)}))},"aria-label":"delete",className:o.margin,children:Object(P.jsx)(y.a,{})})})]})},D=n(84),T=n(216),R=n(9),I=n(12),F=n(214),B=n(215),U=n(115),q=n(108),M=n.n(q),A=n(109),E=n.n(A),L=n(78),W=n.n(L),Y=n(79),z=n.n(Y),H=n(62),G=n.n(H),J=n(63),Q=n.n(J),Z=Object(g.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},search:Object(R.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(I.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(I.a)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(R.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"20ch"}),sectionDesktop:Object(R.a)({display:"none"},e.breakpoints.up("sm"),{display:"flex"}),sectionMobile:Object(R.a)({display:"flex"},e.breakpoints.up("sm"),{display:"none"}),active:{color:"rgb(151, 52, 175)",border:"3px solid","&:hover":{background:"rgb(151, 52, 175,0.1)"},paddingLeft:"10px",marginInline:"5px"},activeMobile:{display:"none"},passive:{color:"rgb(1, 158, 142)",border:"none",paddingLeft:"10px","&:hover":{background:"rgb(1, 158, 142,0.1)"}}}}));function V(e){var t=e.user,n=e.active,a=e.setLocation,i=Z(),c=o.a.useState(null),r=Object(l.a)(c,2),s=r[0],d=r[1],j=o.a.useState(null),h=Object(l.a)(j,2),u=h[0],b=h[1],p=Boolean(s),g=Boolean(u),m=function(){b(null)},O=function(){d(null),m()},w="primary-search-account-menu",y=Object(P.jsxs)(U.a,{anchorEl:s,anchorOrigin:{vertical:"top",horizontal:"right"},id:w,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:p,onClose:O,children:[Object(P.jsx)(x.a,{onClick:function(){a("profile"),O()},children:"Profile"}),Object(P.jsx)(x.a,{onClick:function(){localStorage.removeItem("token"),sessionStorage.removeItem("token"),window.location.replace("https://".concat(window.location.host))},children:"Logout"})]}),k="primary-search-account-menu-mobile",C=Object(P.jsxs)(U.a,{className:i.sectionMobile,anchorEl:u,anchorOrigin:{vertical:"top",horizontal:"right"},id:k,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:g,onClose:m,children:[Object(P.jsx)(x.a,{className:"home"===n?i.activeMobile:"",children:Object(P.jsxs)(v.a,{variant:"outlined",className:"home"===n?i.active:i.passive,onClick:function(){a("home")},children:[Object(P.jsx)(W.a,{style:{marginRight:"6px"}})," Home"]})}),Object(P.jsx)(x.a,{className:"requests"===n?i.activeMobile:"",children:Object(P.jsxs)(v.a,{variant:"outlined",className:"requests"===n?i.active:i.passive,onClick:function(){a("requests")},children:[Object(P.jsx)(G.a,{style:{marginRight:"6px"}})," Requests"]})}),Object(P.jsx)(x.a,{className:"profile"===n?i.activeMobile:"",children:Object(P.jsxs)(v.a,{variant:"outlined",className:"profile"===n?i.active:i.passive,onClick:function(){a("profile")},children:[" ",t.dp_url?Object(P.jsx)("img",{src:t.dp_url,alt:"dp",width:"35px",height:"35px",style:{overflow:"hidden",borderRadius:"50%",marginRight:"6px"}}):Object(P.jsx)(z.a,{style:{marginRight:"6px"}}),"Profile"]})}),Object(P.jsx)(x.a,{onClick:function(){localStorage.removeItem("token"),sessionStorage.removeItem("token"),window.location.replace("https://".concat(window.location.host))},children:Object(P.jsxs)(v.a,{variant:"outlined",className:"logout"===n?i.active:i.passive,children:[Object(P.jsx)(M.a,{style:{marginRight:"6px"}}),"Logout"]})})]});return Object(P.jsxs)("div",{className:i.grow,children:[Object(P.jsx)(F.a,{position:"static",style:{background:"white"},elevation:2,children:Object(P.jsxs)(B.a,{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(P.jsx)(D.a,{className:i.title,variant:"h6",noWrap:!0,children:Object(P.jsx)("b",{style:{color:"rgb(1, 158, 142)"},children:" CoinFace"})}),Object(P.jsxs)("div",{className:i.sectionDesktop,children:[Object(P.jsxs)(v.a,{variant:"outlined",className:"home"===n?i.active:i.passive,onClick:function(){a("home")},children:[Object(P.jsx)(W.a,{style:{marginRight:"6px"}})," Home"]}),Object(P.jsxs)(v.a,{variant:"outlined",className:"post"===n?i.active:i.passive,onClick:function(){a("post")},children:[Object(P.jsx)(Q.a,{style:{marginRight:"6px"}})," Post"]}),Object(P.jsxs)(v.a,{variant:"outlined",className:"requests"===n?i.active:i.passive,onClick:function(){a("requests")},children:[Object(P.jsx)(G.a,{style:{marginRight:"6px"}})," Requests"]})]}),Object(P.jsx)("div",{className:i.sectionDesktop,children:Object(P.jsx)(f.a,{edge:"end","aria-label":"account of current user","aria-controls":w,"aria-haspopup":"true",onClick:function(e){d(e.currentTarget)},style:{color:"rgb(1, 158, 142)"},children:t.dp_url?Object(P.jsx)("img",{src:t.dp_url,alt:"dp",width:"40px",height:"40px",style:{overflow:"hidden",borderRadius:"50%"}}):Object(P.jsx)(z.a,{})})}),Object(P.jsxs)("div",{className:i.sectionMobile,children:[" ",Object(P.jsxs)(v.a,{variant:"outlined",className:"post"===n?i.active:i.passive,onClick:function(){a("post")},children:[Object(P.jsx)(Q.a,{style:{marginRight:"6px"}})," Post"]}),Object(P.jsx)(f.a,{"aria-label":"show more","aria-controls":k,"aria-haspopup":"true",onClick:function(e){b(e.currentTarget)},style:{color:"rgb(1, 158, 142)"},children:Object(P.jsx)(E.a,{})})]})]})}),C,y]})}var X=n(16),K=function(){var e=localStorage.getItem("token"),t=Object(a.useState)([]),n=Object(l.a)(t,2),o=n[0],i=n[1],c=Object(a.useState)(""),s=Object(l.a)(c,2),g=s[0],x=s[1];return Object(a.useEffect)((function(){e?(X.get("https://".concat(window.location.host,"/users/single_user"),{headers:{token:e}}).then((function(e){x(e.data.name)})).catch((function(e){window.alert("some error occured check console"),console.log(e)})),X.get("https://".concat(window.location.host,"/users/all_users"),{headers:{token:e}}).then((function(e){i(e.data)})).catch((function(e){window.alert("some error occured please check console"),console.log(e)}))):window.alert("You are not logged in")}),[e]),Object(P.jsxs)(r.a,{children:[Object(P.jsx)(V,{username:g,token:e}),Object(P.jsxs)("div",{children:[Object(P.jsx)(D.a,{style:{marginTop:"5px"},variant:"h5",component:"h2",align:"center",gutterBottom:!0,children:"Admin Dashboard"}),Object(P.jsx)(T.a,{children:Object(P.jsx)(p.a,{style:{overflow:"auto",margin:"7px",marginTop:0,border:"1.5px solid rgb(243, 243, 243)",borderBottom:0},children:Object(P.jsxs)(d.a,{children:[Object(P.jsx)(u.a,{children:Object(P.jsxs)(b.a,{children:[Object(P.jsx)(h.a,{children:Object(P.jsx)("b",{children:"User Name"})}),Object(P.jsx)(h.a,{children:Object(P.jsx)("b",{children:"Email"})}),Object(P.jsx)(h.a,{children:Object(P.jsx)("b",{children:"Approval"})}),Object(P.jsx)(h.a,{children:Object(P.jsx)("b",{children:"Role"})}),Object(P.jsx)(h.a,{style:{textAlign:"center"},children:Object(P.jsx)("b",{children:"Payments"})}),Object(P.jsx)(h.a,{style:{textAlign:"center"},children:Object(P.jsx)("b",{children:"Delete User"})})]})}),Object(P.jsx)(j.a,{children:o.map((function(t){return Object(P.jsx)(N,{token:e,user:t},t._id)}))})]})})})]})]})},$=n(176),ee=n(233),te=n(231),ne=n(223),ae=n(220),oe=n(33),ie=n.n(oe),ce=n(16),re=n.n(ce),se=n(221),le=n(222),de=n(229);function je(){return Object(P.jsxs)(D.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(P.jsx)(ae.a,{color:"inherit",href:"https://".concat(window.location.host),children:"CoinFace"})," ",(new Date).getFullYear(),"."]})}var he=Object(g.a)((function(e){return{paper:{marginTop:20,display:"flex",flexDirection:"column",alignItems:"center",padding:"30px"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),ue=function(){var e=he(),t=Object(a.useState)(""),n=Object(l.a)(t,2),o=n[0],i=n[1],c=Object(a.useState)(""),s=Object(l.a)(c,2),d=s[0],j=s[1],h=Object(a.useState)(!1),u=Object(l.a)(h,2),b=u[0],g=u[1];return Object(P.jsx)(r.a,{children:Object(P.jsxs)(T.a,{component:"main",maxWidth:"xs",children:[Object(P.jsx)(se.a,{}),Object(P.jsxs)($.a,{className:e.paper,children:[Object(P.jsx)(ee.a,{className:e.avatar,children:Object(P.jsx)(ie.a,{})}),Object(P.jsx)(D.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(P.jsxs)("div",{className:e.form,children:[Object(P.jsx)(te.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",margin:"normal",autoFocus:!0,onChange:function(e){i(e.target.value)}}),Object(P.jsx)(te.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Password",type:"password",autoComplete:"current-password",onChange:function(e){j(e.target.value)}}),Object(P.jsx)(le.a,{control:Object(P.jsx)(de.a,{checked:b,color:"primary",onChange:function(){g(!b)}}),label:"Remember me"}),Object(P.jsx)(v.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(){o.length&&d.length?re.a.post("https://".concat("coin-face.herokuapp.com","/users/login"),{email:o,password:d}).then((function(e){return e.data})).then((function(e){console.log("hu",e),400===e.status?(console.log(e),window.alert(e.message)):(b?(localStorage.setItem("token",e.token),localStorage.setItem("user",e.user)):(sessionStorage.setItem("token",e.token),sessionStorage.setItem("user",e.user)),e.user.isAdmin&&window.location.replace("https://".concat(window.location.host,"/dashboard")),e.user&&window.location.replace("https://".concat(window.location.host,"/userPage")))})).catch((function(e){window.alert("some error occured please check console"),console.log(e)})):window.alert("Email or Password too short")},children:"Sign In"}),Object(P.jsxs)(ne.a,{container:!0,children:[Object(P.jsx)(ne.a,{item:!0,xs:!0,children:Object(P.jsx)(ae.a,{href:"/forgotPassword",variant:"body2",children:"Forgot password?"})}),Object(P.jsx)(ne.a,{item:!0,children:Object(P.jsx)(ae.a,{href:"/register",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]}),Object(P.jsx)(p.a,{style:{margin:20},children:Object(P.jsx)(je,{})})]})})},be=n(224),pe=n(232),ge=n(225),xe=n(171),me=Object(g.a)((function(e){return{paper:{marginTop:20,display:"flex",flexDirection:"column",alignItems:"center",padding:"30px"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),Oe=function(){var e=me(),t=Object(a.useState)(""),n=Object(l.a)(t,2),i=n[0],c=n[1],r=Object(a.useState)(""),s=Object(l.a)(r,2),d=s[0],j=s[1],h=Object(a.useState)(""),u=Object(l.a)(h,2),b=u[0],g=u[1],x=Object(a.useState)(""),m=Object(l.a)(x,2),O=m[0],f=m[1],w=Object(a.useState)(""),y=Object(l.a)(w,2),k=y[0],C=y[1],S=Object(a.useState)(!1),_=Object(l.a)(S,2),N=_[0],R=_[1],I=Object(a.useState)(0),F=Object(l.a)(I,2),B=F[0],U=F[1],q={onUploadProgress:function(e){var t=e.loaded,n=e.total,a=Math.floor(100*t/n);a<100&&U(a),a>=100&&R(!1)}};return Object(P.jsxs)(o.a.Fragment,{children:[Object(P.jsxs)(T.a,{component:"main",maxWidth:"xs",children:[Object(P.jsx)(se.a,{}),Object(P.jsxs)($.a,{className:e.paper,children:[Object(P.jsx)(ee.a,{className:e.avatar,children:Object(P.jsx)(ie.a,{})}),Object(P.jsx)(D.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(P.jsxs)("div",{className:e.form,children:[Object(P.jsxs)(ne.a,{container:!0,spacing:2,children:[Object(P.jsx)(ne.a,{item:!0,xs:12,children:Object(P.jsx)(te.a,{autoComplete:"name",name:"Name",variant:"outlined",required:!0,fullWidth:!0,id:"Name",label:"Full Name",autoFocus:!0,onChange:function(e){c(e.target.value)}})}),Object(P.jsx)(ne.a,{item:!0,xs:12,children:Object(P.jsx)(te.a,{variant:"outlined",required:!0,fullWidth:!0,id:"userName",label:"User Name",name:"userName",autoComplete:"username",onChange:function(e){j(e.target.value)}})}),Object(P.jsx)(ne.a,{item:!0,xs:12,children:Object(P.jsx)(te.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){C(e.target.value)}})}),Object(P.jsx)(ne.a,{item:!0,xs:12,children:Object(P.jsx)(te.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){g(e.target.value)}})}),Object(P.jsx)(ne.a,{item:!0,xs:12,children:Object(P.jsx)(te.a,{variant:"outlined",required:!0,fullWidth:!0,name:"confrim password",label:"Confirm Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){f(e.target.value)}})})]}),Object(P.jsx)(v.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(){b.length>=6&&O===b&&i.length>2&&d.length>5&&xe.validate(k)?re.a.post("https://".concat("coin-face.herokuapp.com","/users/register"),{name:i,email:k,password:b,username:d},q).then((function(e){window.alert("Registered sucessfully"),window.alert(e.data.message),window.alert("Dont forget to check spam mails"),400===e.data.status?e.data.message&&(window.alert(e.data.message),window.location.reload()):window.location.replace("https://".concat(window.location.host,"/login"))})).catch((function(e){window.alert("some error occured please check console"),console.log(e)})):(i.length<2&&window.alert("Name should contain more than 2 letters"),d.length<=5&&window.alert("Username should contain more than 5 letters"),xe.validate(k)||window.alert("Enter a valid email"),b.length<6&&window.alert("Password length should be more than 6"),O!==b&&window.alert("Passwords don't match"))},children:"Sign Up"}),Object(P.jsx)(ne.a,{container:!0,justifyContent:"flex-end",children:Object(P.jsx)(ne.a,{item:!0,children:Object(P.jsx)(ae.a,{href:"/login",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(P.jsx)(p.a,{style:{margin:20},children:Object(P.jsx)(je,{})})]}),Object(P.jsxs)(pe.a,{onClose:function(){R(!1)},"aria-labelledby":"simple-dialog-title",open:N,children:[Object(P.jsx)(be.a,{id:"simple-dialog-title",children:"Registering..."}),Object(P.jsx)(ge.a,{variant:"determinate",value:B})]})]})},fe=function(){return Object(P.jsxs)(o.a.Fragment,{children:[Object(P.jsxs)($.a,{style:{padding:"20px",margin:"20px"},children:[Object(P.jsx)(D.a,{variant:"h5",align:"left",children:Object(P.jsx)("b",{children:"ABOUT"})}),Object(P.jsxs)(D.a,{variant:"body1",color:"textPrimary",align:"left",children:[Object(P.jsx)("li",{children:"This site has all the features of a social media site."}),Object(P.jsx)("li",{children:"This site has a coin system."}),Object(P.jsx)("li",{children:"Users can donate, exchange ,sell and buy these coins."})]})]}),Object(P.jsxs)($.a,{style:{padding:"20px",margin:"20px"},children:[Object(P.jsx)(D.a,{variant:"h5",color:"textPrimary",align:"left\r ",children:Object(P.jsx)("b",{children:"FEATURES"})}),Object(P.jsxs)(D.a,{variant:"body1",color:"textPrimary",align:"left",children:[Object(P.jsx)("li",{children:"Follow requests"}),Object(P.jsx)("li",{children:"Posts"}),Object(P.jsx)("li",{children:"Hidden posts that can be seen only after certain ammount of coins are given."}),Object(P.jsx)("li",{children:"Like posts"}),Object(P.jsx)("li",{children:"Likes on post award the owner coins"})," ",Object(P.jsx)("li",{children:"Share posts"})]})]}),Object(P.jsxs)($.a,{style:{padding:"20px",margin:"20px"},children:[Object(P.jsx)(D.a,{variant:"h5",color:"textPrimary",align:"left\r ",children:Object(P.jsx)("b",{children:"TECH"})}),Object(P.jsxs)(D.a,{variant:"body1",color:"textPrimary",align:"left",children:[Object(P.jsx)("li",{children:"node.JS"}),Object(P.jsx)("li",{children:"React.JS"}),Object(P.jsx)("li",{children:"mongoDB"})]})]}),Object(P.jsxs)($.a,{style:{padding:"20px",margin:"20px"},children:[Object(P.jsx)(D.a,{variant:"h5",color:"textPrimary",align:"left\r ",children:Object(P.jsx)("b",{children:"Developer"})}),Object(P.jsxs)(D.a,{variant:"body1",color:"textPrimary",align:"left",children:[Object(P.jsxs)("li",{children:["GitHub: ",Object(P.jsx)("a",{href:"https://github.com/GodOfCoding1",children:"GodOfCoding1"})]}),Object(P.jsxs)("li",{children:["Source Code :"," ",Object(P.jsx)("a",{href:"https://github.com/GodOfCoding1/social-media-site",children:"Click here"})]})]})]}),Object(P.jsxs)($.a,{style:{padding:"20px",margin:"20px"},children:[Object(P.jsx)(D.a,{variant:"h5",color:"textPrimary",align:"left\r ",children:Object(P.jsx)("b",{children:"Resource used"})}),Object(P.jsx)(D.a,{variant:"body1",color:"textPrimary",align:"left",children:Object(P.jsxs)("li",{children:["Icons from"," ",Object(P.jsx)("a",{href:"https://www.flaticon.com/",title:"Flaticon",children:"www.flaticon.com"})]})}),Object(P.jsx)(D.a,{variant:"body1",color:"textPrimary",align:"left",children:Object(P.jsxs)("li",{children:["Icons hosted on"," ",Object(P.jsx)("a",{href:"https://imgbb.com/",title:"imgbb",children:"imgbb"})]})}),Object(P.jsx)(D.a,{variant:"body1",color:"textPrimary",align:"left",children:Object(P.jsxs)("li",{children:["Images hosted on"," ",Object(P.jsx)("a",{href:"https://cloudinary.com//",title:"cloudinary",children:"Cloudinary"})]})})]})]})},we=Object(g.a)((function(e){return{"@global":{"*::-webkit-scrollbar":{width:"0.4em"},"*::-webkit-scrollbar-track":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,0.00)"},"*::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,.1)",outline:"none"}},root:{height:"100vh"},info:{backgroundColor:e.palette.grey[50],backgroundSize:"cover",backgroundPosition:"center"},buttonGrid:Object(R.a)({},e.breakpoints.up("sm"),{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}),paper:{width:"100%",padding:40,display:"flex",flexDirection:"column",alignItems:"center",paddingBottom:20},login:{marginBottom:"20px",border:"3px solid"},register:{border:"3px solid"}}})),ye=function(){var e=we();return Object(P.jsxs)(ne.a,{container:!0,component:"main",className:e.root,children:[Object(P.jsx)(se.a,{}),Object(P.jsx)(ne.a,{item:!0,xs:!1,sm:8,md:7,className:e.info,children:Object(P.jsx)(p.a,{style:{maxHeight:"100vh",overflow:"auto"},component:"span",display:{xs:"none",sm:"block",md:"block",lg:"block",xl:"block"},children:Object(P.jsx)(fe,{})})}),Object(P.jsx)(ne.a,{item:!0,xs:12,sm:4,md:5,className:e.buttonGrid,component:$.a,square:!0,children:Object(P.jsxs)("div",{className:e.paper,children:[Object(P.jsx)("img",{src:"https://i.ibb.co/n8sC2Zc/image.png",alt:"logo",border:"0",width:"300px",style:{borderRadius:"2%",overflow:"hidden",marginBottom:"20px"}}),Object(P.jsx)(v.a,{className:e.login,variant:"outlined",color:"primary",href:"/login",fullWidth:!0,children:"Sign in"}),Object(P.jsx)(v.a,{className:e.register,variant:"outlined",color:"primary",href:"/register",fullWidth:!0,children:"Sign up"}),Object(P.jsx)(p.a,{mt:2,children:Object(P.jsx)(je,{})})]})}),Object(P.jsx)(p.a,{component:"span",display:{xs:"block",sm:"none"},children:Object(P.jsx)(fe,{})})]})},ve=function(){return Object(P.jsx)("h1",{children:"not found"})},ke=n(111),Ce=n.n(ke),Pe=n(110),Se=n.n(Pe),_e=n(16),Ne=Object(g.a)((function(e){return{paper:{padding:"20px",marginInline:"10px",marginTop:"10px"},activeButtons:{backgroundColor:"rgb(151, 52, 175)",color:"white","&:hover":{backgroundColor:"rgb(137, 47, 158)"}},sectionDesktop:Object(R.a)({display:"none"},e.breakpoints.up("sm"),{display:"flex"}),sectionMobile:Object(R.a)({display:"flex"},e.breakpoints.up("sm"),{display:"none"})}})),De=function(e){var t=e.user,n=e.id,i=e.token,c=e.viewer,r=e.updateProps,s=Ne(),d=Object(a.useState)({}),j=Object(l.a)(d,2),h=j[0],u=j[1];Object(a.useEffect)((function(){n?_e.get("https://".concat(window.location.host,"/users/single_user_with_id/").concat(n),{headers:{token:i}}).then((function(e){u(e.data)})).catch((function(e){window.alert("Some error occured please check console"),console.log(e)})):u(t)}),[n,i,t]);return Object(P.jsx)(o.a.Fragment,{children:Object(P.jsxs)($.a,{style:{padding:"20px",margin:"20px",display:"flex",flexDirection:"column"},children:[Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[h.dp_url?Object(P.jsx)("img",{src:h.dp_url,alt:"dp",width:"200px",style:{margin:0,padding:0,borderRadius:"5%",overflow:"hidden"}}):Object(P.jsx)("img",{src:"https://i.ibb.co/7NZX3Dg/user-1.png",alt:"dp",width:"100px",style:{marginInline:20,padding:0}}),Object(P.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",width:"100%",alignItems:"center"},children:Object(P.jsxs)("div",{children:[Object(P.jsxs)(D.a,{children:[Object(P.jsx)("b",{children:" Name:"})," ",h.name]}),Object(P.jsxs)(D.a,{children:[Object(P.jsx)("b",{children:" User Name: "}),h.username]})]})})]}),n?Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",width:"100%",marginTop:"20px"},children:[Object(P.jsxs)(v.a,{variant:"contained",className:s.activeButtons,disabled:c._id===h._id,onClick:function(){var e;e=h._id,_e.get("https://".concat(window.location.host,"/users/acceptRequest/").concat(e),{headers:{token:i}}).then((function(e){e.data.message&&window.alert(e.data.message),r()})).catch((function(e){window.alert("Some error occured please check console"),console.log(e)}))},children:[Object(P.jsx)(Q.a,{style:{marginRight:"10px"}}),"Accept"]}),Object(P.jsxs)(v.a,{variant:"contained",className:s.activeButtons,disabled:c._id===h._id,onClick:function(){var e;e=h._id,_e.get("https://".concat(window.location.host,"/users/rejectRequest/").concat(e),{headers:{token:i}}).then((function(e){e.data.message&&window.alert(e.data.message),r()})).catch((function(e){window.alert("Some error occured please check console"),console.log(e)}))},children:[Object(P.jsx)(Se.a,{style:{marginRight:"10px"}}),"Reject"]})]}):Object(P.jsx)(D.a,{align:"center",style:{paddingTop:"20px"},children:Object(P.jsxs)(v.a,{variant:"contained",className:s.activeButtons,disabled:c._id===h._id||c.friends.includes(h._id),onClick:function(){var e;e=h._id,_e.get("https://".concat(window.location.host,"/users/sendRequest/").concat(e),{headers:{token:i}}).then((function(e){e.data.message&&window.alert(e.data.message),r()})).catch((function(e){window.alert("Some error occured please check console"),console.log(e)}))},children:[Object(P.jsx)(G.a,{style:{marginRight:"10px"}}),"send request"]})})]})})},Te=n(16),Re=Object(g.a)((function(e){return{searchInput:{width:"100%",border:0,fontSize:16,"&:focus":{outline:"none"}},sectionDesktop:Object(R.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(R.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}})),Ie=function(e){var t,n=e.token,i=e.viewer,c=e.updateProps,r=Re(),s=Object(a.useState)(""),d=Object(l.a)(s,2),j=d[0],h=d[1],u=Object(a.useState)([]),b=Object(l.a)(u,2),p=b[0],g=b[1],x=Object(a.useRef)(null);return Object(a.useEffect)((function(){console.log(""!==j),""!==j&&Te.get("https://".concat(window.location.host,"/users/search/").concat(j),{headers:{token:n}}).then((function(e){e.data.message&&window.alert(e.data.message),g(e.data)})).catch((function(e){window.alert("Some error occured please check console"),console.log(e)}))}),[j,n]),Object(P.jsxs)(o.a.Fragment,{children:[!!(null===(t=i.friend_request)||void 0===t?void 0:t.length)&&Object(P.jsxs)($.a,{style:{padding:"20px",margin:"20px"},children:[Object(P.jsx)(D.a,{variant:"body1",color:"textPrimary",align:"left",children:Object(P.jsx)("b",{children:" Pending requests"})}),i.friend_request.map((function(e,t){return Object(P.jsx)(De,{token:n,id:e,viewer:i,updateProps:c},t+"requests")}))]}),Object(P.jsxs)($.a,{style:{padding:"13px",margin:"20px",display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(P.jsx)("div",{onClick:function(){x.current.focus()},style:{cursor:"pointer",display:"flex",flexDirection:"row",alignItems:"center"},children:Object(P.jsx)(Ce.a,{style:{fontSize:28,alignItems:"center",marginRight:15}})}),Object(P.jsx)("input",{ref:x,autoFocus:!0,variant:"standard",className:r.searchInput,onChange:function(e){h(e.target.value)},placeholder:"Search for users..."})]}),(null===p||void 0===p?void 0:p.length)?p.map((function(e,t){return Object(P.jsx)(De,{token:n,user:e,viewer:i},t)})):Object(P.jsx)($.a,{style:{padding:"20px",margin:"20px"},children:Object(P.jsx)(D.a,{variant:"body1",color:"textPrimary",align:"left",children:"Search Algorithim is weak. Type atleast half of the name of the person you are looking for. Type exact username for most accurate results."})})]})},Fe=n(17),Be=n.n(Fe),Ue=n(31),qe=n(16),Me=Object(g.a)((function(e){return{paper:{padding:"20px",marginInline:"10px",marginTop:"10px"},activeButtons:{backgroundColor:"rgb(151, 52, 175)",color:"white","&:hover":{backgroundColor:"rgb(137, 47, 158)"}},sectionDesktop:Object(R.a)({display:"none"},e.breakpoints.up("sm"),{display:"flex"}),sectionMobile:Object(R.a)({display:"flex"},e.breakpoints.up("sm"),{display:"none"})}})),Ae=function(e){var t=e.getCoin,n=Object(a.useState)("none"),i=Object(l.a)(n,2),c=i[0],r=i[1],s=Object(a.useState)(!1),d=Object(l.a)(s,2),j=d[0],h=d[1];return Object(P.jsx)(o.a.Fragment,{children:Object(P.jsxs)(D.a,{style:{margin:0,marginTop:"20px"},children:[Object(P.jsx)(le.a,{control:Object(P.jsx)(de.a,{checked:j,onChange:function(){h(!j)},name:"checkedB",color:"primary"}),label:"Use CoinLock"}),j&&Object(P.jsxs)(O.a,{value:c,onChange:function(e){r(e.target.value),t(e.target.value)},style:{marginInline:"10px"},children:[Object(P.jsx)(x.a,{value:"none",children:"Select no. of coins"}),Object(P.jsx)(x.a,{value:1,children:"1 coin"}),Object(P.jsx)(x.a,{value:5,children:"5 coins"}),Object(P.jsx)(x.a,{value:10,children:"10 coins"})]})]})})},Ee=function(e){var t=e.token,n=Me(),i=Object(a.useState)(""),c=Object(l.a)(i,2),r=c[0],s=c[1],d=Object(a.useState)(null),j=Object(l.a)(d,2),h=j[0],u=j[1],b=Object(a.useState)(""),p=Object(l.a)(b,2),g=p[0],m=p[1],f=Object(a.useState)(null),w=Object(l.a)(f,2),y=w[0],k=w[1],C=Object(a.useState)(""),S=Object(l.a)(C,2),_=S[0],N=S[1],T=Object(a.useState)(null),R=Object(l.a)(T,2),I=R[0],F=R[1],B=Object(a.useState)(!1),U=Object(l.a)(B,2),q=U[0],M=U[1],A=Object(a.useState)(0),E=Object(l.a)(A,2),L=E[0],W=E[1],Y={onUploadProgress:function(e){var t=e.loaded,n=e.total,a=Math.floor(100*t/n);a<100&&W(a),a>=100&&M(!1)}},z=function(){var e=Object(Ue.a)(Be.a.mark((function e(){var n,a,o;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},M(!0),!h){e.next=22;break}return n.type="image",_&&(n.caption=_),I&&(n.coins_needed=I),(a=new FormData).append("file",h),a.append("upload_preset","randomNameSoThatBadPeopleDontUpload123"),a.append("cloud_name","hibyehibye"),e.prev=10,e.next=13,qe.post("https://api.cloudinary.com/v1_1/hibyehibye/image/upload",a,Y);case 13:o=e.sent,e.next=19;break;case 16:e.prev=16,e.t0=e.catch(10),console.log(e.t0);case 19:n.image_url=o.data.url,e.next=23;break;case 22:g?(n.type="text",n.text=g,I&&(n.coins_needed=I)):window.alert("Empty contents for post");case 23:console.log("data being send to backend",n),M(!0),qe.post("https://".concat(window.location.host,"/posts/addPost"),n,{onUploadProgress:function(e){var t=e.loaded,n=e.total,a=Math.floor(100*t/n);a<100&&W(a),a>=100&&M(!1)},headers:{token:t}}).then((function(e){e.data.message&&window.alert(e.data.message),s(""),u(null),m(""),k(null),N(""),F(null)})).catch((function(e){window.alert("some error occured please check console"),console.log(e)}));case 26:case"end":return e.stop()}}),e,null,[[10,16]])})));return function(){return e.apply(this,arguments)}}();return Object(P.jsxs)(o.a.Fragment,{children:[Object(P.jsxs)($.a,{className:n.paper,children:[Object(P.jsx)(D.a,{variant:"h5",align:"left",children:Object(P.jsx)("b",{children:"Add a post"})}),Object(P.jsxs)(D.a,{component:"div",variant:"body1",color:"textPrimary",align:"left",style:{marginTop:"15px"},children:["Type of Post :",Object(P.jsxs)(O.a,{value:r,onChange:function(e){s(e.target.value)},style:{marginInline:"5px"},children:[Object(P.jsx)(x.a,{value:"picture",children:"Picture"}),Object(P.jsx)(x.a,{value:"text",children:"Tweet"})]})]}),"text"===r?Object(P.jsxs)(o.a.Fragment,{children:[Object(P.jsx)(te.a,{placeholder:"Type whats on your mind..",id:"outlined-multiline-static",label:"Tweet",multiline:!0,rows:4,variant:"outlined",style:{marginTop:"20px",width:"100%"},onChange:function(e){m(e.target.value)}}),Object(P.jsx)(Ae,{getCoin:F})]}):"picture"===r&&Object(P.jsxs)(o.a.Fragment,{children:[Object(P.jsxs)(v.a,{variant:"contained",style:{marginTop:"20px"},className:n.activeButtons,component:"label",children:[Object(P.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){e.target.files[0]&&(u(e.target.files[0]),k(URL.createObjectURL(e.target.files[0])))},hidden:!0}),"Upload Picture"]}),h&&Object(P.jsxs)(o.a.Fragment,{children:[Object(P.jsx)(D.a,{style:{marginTop:"20px"},children:Object(P.jsx)("img",{alt:"uploaded",id:"target",src:y,width:"100%"})}),Object(P.jsx)(te.a,{placeholder:"Add a caption (optional)",id:"outlined-multiline-static",label:"Caption",multiline:!0,rows:2,variant:"outlined",style:{marginTop:"20px",width:"100%"},onChange:function(e){N(e.target.value)}})," ",Object(P.jsx)(Ae,{getCoin:F})]})]}),(h||g)&&Object(P.jsx)(D.a,{align:"right",children:Object(P.jsx)(v.a,{variant:"contained",color:"primary",style:{marginTop:"20px"},className:n.activeButtons,onClick:z,children:"Post"})})]}),Object(P.jsxs)(pe.a,{onClose:function(){M(!1)},"aria-labelledby":"simple-dialog-title",open:q,children:[Object(P.jsx)(be.a,{id:"simple-dialog-title",children:"Uploading..."}),Object(P.jsx)(ge.a,{variant:"determinate",value:L})]})]})},Le=n(83),We=n.n(Le),Ye=n(226),ze=n(64),He=n.n(ze),Ge=n(113),Je=n.n(Ge),Qe=n(112),Ze=n.n(Qe),Ve=n(65),Xe=n.n(Ve),Ke=n(82),$e=n.n(Ke),et=function(e){var t,n,i,c,r,s,d,j,h=e.post,u=e.likePost,b=e.unlockPost,g=e.viewer,x=Object(a.useState)(!1),m=Object(l.a)(x,2),O=m[0],f=m[1],w=Object(a.useState)(h.coins_needed>0),y=Object(l.a)(w,2),k=y[0],C=y[1],S=new Date(h.time),_=function(){var e=Object(Ue.a)(Be.a.mark((function e(t){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Do u want to pay ",h.coins_needed," coins. ","Current Balance : ",g.coins)){e.next=5;break}return e.next=3,b(t);case 3:if(!e.sent){e.next=5;break}C(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsx)(o.a.Fragment,{children:"image"===h.type?Object(P.jsxs)($.a,{style:{padding:"20px",marginTop:"20px",marginBottom:0},children:[" ",Object(P.jsxs)(D.a,{variant:"caption",align:"left",style:{margin:0,padding:0,color:"#696969"},children:[h.username," at"," ",S.getHours()+":"+S.getMinutes()+" on "+S.getDate()+"/"+S.getMonth()+"/"+S.getFullYear()]}),k&&!(null===(t=h.unlocked_by)||void 0===t?void 0:t.includes(g._id))?Object(P.jsx)(o.a.Fragment,{children:Object(P.jsxs)($.a,{style:{backgroundColor:"rgb(166, 166, 166)",padding:"20px",marginTop:"20px"},children:[" ",Object(P.jsx)(D.a,{variant:"h6",color:"textPrimary",align:"center",style:{margin:0,padding:0,color:"white",display:"flex",flexDirection:"row",justifyContent:"center"},children:Object(P.jsxs)(p.a,{style:{margin:0,padding:0,color:"white",display:"flex",flexDirection:"row",alignItems:"center"},children:["Post Locked : ",h.coins_needed," ",Object(P.jsx)("img",{src:"https://i.ibb.co/hYqQxM9/dollar-2.png",alt:"coin-icon",width:25,style:{marginLeft:6}})]})}),Object(P.jsx)(D.a,{variant:"h6",color:"textPrimary",align:"center",style:{marginTop:10},children:Object(P.jsxs)(v.a,{variant:"outlined",style:{color:"white",border:"3px solid"},onClick:function(){_(h._id)},children:[Object(P.jsx)(ie.a,{style:{marginRight:"6px"}})," Unlock"]})})]})}):Object(P.jsxs)(o.a.Fragment,{children:[Object(P.jsx)(D.a,{variant:"body1",color:"textPrimary",align:"left",style:{margin:0,padding:0},children:Object(P.jsx)("img",{src:h.image_url,alt:"post1",width:"100%",style:{margin:0,padding:0}})}),h.caption&&Object(P.jsx)(D.a,{variant:"body1",color:"textPrimary",align:"left",style:{margin:0,padding:0},children:h.caption}),Object(P.jsxs)(D.a,{variant:"h6",color:"textPrimary",align:"left",style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[O||(null===(n=h.liked_by)||void 0===n?void 0:n.includes(g._id))?Object(P.jsx)($e.a,{style:{marginRight:13,color:"rgb(151, 52, 175)"}}):Object(P.jsx)(Xe.a,{style:{marginRight:13,color:"rgb(151, 52, 175)"}})," ",h.likes]}),Object(P.jsx)(v.a,{variant:"contained",style:O||(null===(i=h.liked_by)||void 0===i?void 0:i.includes(g._id))?{}:{backgroundColor:"rgb(151, 52, 175)",color:"white","&:hover":{backgroundColor:"rgb(137, 47, 158)"}},disabled:O||(null===(c=h.liked_by)||void 0===c?void 0:c.includes(g._id)),onClick:function(){u(h._id),f(!0)},children:Object(P.jsx)(Xe.a,{})})]})]})]}):"text"===h.type&&Object(P.jsxs)($.a,{style:{padding:"20px",marginTop:"20px",marginBottom:0,backdropFilter:"blur(5px)"},children:[Object(P.jsxs)(D.a,{variant:"caption",align:"left",style:{margin:0,padding:0,color:"#696969"},children:[h.username," at"," ",S.getHours()+":"+S.getMinutes()+" on "+S.getDate()+"/"+S.getMonth()+"/"+S.getFullYear()]}),k&&!(null===(r=h.unlocked_by)||void 0===r?void 0:r.includes(g._id))?Object(P.jsx)(o.a.Fragment,{children:Object(P.jsxs)($.a,{style:{backgroundColor:"rgb(166, 166, 166)",padding:"20px",marginTop:"20px"},children:[" ",Object(P.jsx)(D.a,{variant:"h6",color:"textPrimary",align:"center",style:{margin:0,padding:0,color:"white",display:"flex",flexDirection:"row",justifyContent:"center"},children:Object(P.jsxs)(p.a,{style:{margin:0,padding:0,color:"white",display:"flex",flexDirection:"row",alignItems:"center"},children:["Post Locked : ",h.coins_needed," ",Object(P.jsx)("img",{src:"https://i.ibb.co/hYqQxM9/dollar-2.png",alt:"coin-icon",width:25,style:{marginLeft:6}})]})}),Object(P.jsx)(D.a,{variant:"h6",color:"textPrimary",align:"center",style:{marginTop:10},children:Object(P.jsxs)(v.a,{variant:"outlined",style:{color:"white",border:"3px solid"},onClick:function(){_(h._id)},children:[Object(P.jsx)(ie.a,{style:{marginRight:"6px"}})," Unlock"]})})]})}):Object(P.jsxs)(o.a.Fragment,{children:[Object(P.jsx)(D.a,{variant:"body1",color:"textPrimary",align:"left",style:{margin:0,padding:0},children:h.text}),Object(P.jsxs)(D.a,{variant:"h6",color:"textPrimary",align:"left",style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[O||(null===(s=h.liked_by)||void 0===s?void 0:s.includes(g._id))?Object(P.jsx)($e.a,{style:{marginRight:13,color:"rgb(151, 52, 175)"}}):Object(P.jsx)(Xe.a,{style:{marginRight:13,color:"rgb(151, 52, 175)"}})," ",h.likes]}),Object(P.jsx)(v.a,{variant:"contained",style:O||(null===(d=h.liked_by)||void 0===d?void 0:d.includes(g._id))?{}:{backgroundColor:"rgb(151, 52, 175)",color:"white","&:hover":{backgroundColor:"rgb(137, 47, 158)"}},disabled:O||(null===(j=h.liked_by)||void 0===j?void 0:j.includes(g._id)),onClick:function(){u(h._id),f(!0)},children:Object(P.jsx)(Xe.a,{})})]})]})]})})},tt=n(16),nt=function(e){var t=e.friend,n=e.token,i=e.updateProps,c=e.viewer,r=Object(a.useState)(!1),s=Object(l.a)(r,2),d=s[0],j=s[1],h=Object(a.useState)([]),u=Object(l.a)(h,2),b=u[0],p=u[1],g=function(e){tt.get("https://".concat(window.location.host,"/posts/likePost/").concat(e),{headers:{token:n}}).then((function(t){t.data.message&&window.alert(t.data.message),m(e)})).catch((function(e){window.alert("some error occured please check console"),console.log(e)}))},x=function(){var e=Object(Ue.a)(Be.a.mark((function e(t){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(Ue.a)(Be.a.mark((function e(a){var o;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt.get("https://".concat(window.location.host,"/posts/unlockPost/").concat(t),{headers:{token:n}});case 3:(o=e.sent).data.message&&window.alert(o.data.message),o.data.unlocked&&a(!0),a(!1),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),window.alert("some error occured please check console"),console.log(e.t0),a(!1);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(e){tt.get("https://".concat(window.location.host,"/posts/allposts/").concat(e),{headers:{token:n}}).then((function(e){e.data.message&&window.alert(e.data.message),p(e.data.posts),console.log(e.data.posts)})).catch((function(e){window.alert("some error occured please check console"),console.log(e)}))};return Object(P.jsxs)(o.a.Fragment,{children:[Object(P.jsxs)($.a,{style:{padding:"20px",margin:"20px",display:"flex",flexDirection:"column"},children:[Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[t.dp_url?Object(P.jsx)("img",{src:t.dp_url,alt:"dp",width:"200px",style:{margin:0,padding:0,borderRadius:"5%",overflow:"hidden"}}):Object(P.jsx)("img",{src:"https://i.ibb.co/7NZX3Dg/user-1.png",alt:"dp",width:"100px",style:{marginInline:20,padding:0}}),Object(P.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",width:"100%",alignItems:"center"},children:Object(P.jsxs)("div",{children:[Object(P.jsxs)(D.a,{children:[Object(P.jsx)("b",{children:" Name:"})," ",t.name]}),Object(P.jsxs)(D.a,{children:[Object(P.jsx)("b",{children:" User Name: "}),t.username]})]})})]}),Object(P.jsxs)(D.a,{align:"center",style:{paddingTop:"20px"},children:[Object(P.jsx)(v.a,{variant:"contained",color:"primary",onClick:function(){m(t._id),j(!0)},style:{marginRight:"10px"},children:"Veiw Posts"}),Object(P.jsxs)(v.a,{variant:"contained",onClick:function(){var e;e=t._id,window.confirm("Are you sure you want to unfriend?")&&tt.get("https://".concat(window.location.host,"/users/removeFriend/").concat(e),{headers:{token:n}}).then((function(e){e.data.message&&window.alert(e.data.message),i()})).catch((function(e){window.alert("some error occured please check console"),console.log(e)}))},children:[Object(P.jsx)(Ze.a,{style:{marginRight:"10px"}}),"UnFriend"]})]})]}),Object(P.jsxs)(pe.a,{onClose:function(){j(!1)},"aria-labelledby":"customized-dialog-title",open:d,children:[Object(P.jsx)(be.a,{id:"customized-dialog-title",onClose:function(){j(!1)},children:Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[Object(P.jsxs)("div",{children:[" ",t.username]})," ",Object(P.jsx)(He.a,{style:{cursor:"pointer"},onClick:function(){j(!1)}})]})}),Object(P.jsx)(Ye.a,{dividers:!0,children:(null===b||void 0===b?void 0:b.length)?b.map((function(e,t){return Object(P.jsx)(et,{post:e,likePost:g,unlockPost:x,viewer:c},t)})):Object(P.jsx)(D.a,{variant:"body1",color:"textPrimary",align:"left",children:"This person doesnt have any posts"})})]})]})},at=n(16),ot=Object(g.a)((function(e){return{paper:{padding:"20px",marginInline:"10px",marginTop:"10px"},activeButtons:{backgroundColor:"rgb(151, 52, 175)",color:"white","&:hover":{backgroundColor:"rgb(137, 47, 158)"}},actionBar:Object(R.a)({padding:"20px",margin:"20px",marginBottom:0},e.breakpoints.down("sm"),{display:"flex",flexDirection:"row",justifyContent:"center"}),sectionDesktop:Object(R.a)({display:"none"},e.breakpoints.up("sm"),{display:"flex"}),sectionMobile:Object(R.a)({display:"flex"},e.breakpoints.up("sm"),{display:"none"})}})),it=function(e){var t=e.token,n=e.viewer,i=ot(),c=Object(a.useState)([]),r=Object(l.a)(c,2),s=r[0],d=r[1],j=Object(a.useState)({}),h=Object(l.a)(j,2),u=h[0],b=h[1],p=Object(a.useState)(null),g=Object(l.a)(p,2),x=g[0],m=g[1],O=Object(a.useState)(null),f=Object(l.a)(O,2),w=f[0],y=f[1],k=Object(a.useState)([]),C=Object(l.a)(k,2),S=C[0],_=C[1],N=o.a.useState(!1),T=Object(l.a)(N,2),R=T[0],I=T[1],F=o.a.useState(!1),B=Object(l.a)(F,2),U=B[0],q=B[1],M=Object(a.useState)(!1),A=Object(l.a)(M,2),E=A[0],L=A[1],W=Object(a.useState)(0),Y=Object(l.a)(W,2),z=Y[0],H=Y[1],G={onUploadProgress:function(e){var t=e.loaded,n=e.total,a=Math.floor(100*t/n);a<100&&H(a),a>=100&&L(!1)}},J=function(e){e.target.files[0]&&(m(e.target.files[0]),y(URL.createObjectURL(e.target.files[0])))},Q=function(){var e=Object(Ue.a)(Be.a.mark((function e(){var n,a,o;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L(!0),n={},!x){e.next=19;break}return(a=new FormData).append("file",x),a.append("upload_preset","randomNameSoThatBadPeopleDontUpload123"),a.append("cloud_name","hibyehibye"),e.prev=7,e.next=10,at.post("https://api.cloudinary.com/v1_1/hibyehibye/image/upload",a,G);case 10:o=e.sent,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),console.log(e.t0);case 16:n.dp_url=o.data.url,e.next=20;break;case 19:window.alert("Empty contents for profile pic");case 20:L(!0),at.post("https://".concat(window.location.host,"/users/uploadDP"),n,{onUploadProgress:function(e){var t=e.loaded,n=e.total,a=Math.floor(100*t/n);a<100&&H(a),a>=100&&L(!1)},headers:{token:t}}).then((function(e){e.data.message&&window.alert(e.data.message),window.location.reload()})).catch((function(e){window.alert("Some error occured please check console"),console.log(e)}));case 22:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){at.get("https://".concat(window.location.host,"/users/single_user"),{headers:{token:t}}).then((function(e){e.data.message&&window.alert(e.data.message),b(e.data)})).catch((function(e){window.alert("Some error occured please check console"),console.log(e)})),at.get("https://".concat(window.location.host,"/posts/allposts/:id"),{headers:{token:t}}).then((function(e){e.data.message&&window.alert(e.data.message),d(e.data.posts)})).catch((function(e){window.alert("some error occured please check console"),console.log(e)}))}),[t]);var Z=function(e){window.confirm("Are you sure you want to delete? You will still keep all the coins made on this post")&&at.get("https://".concat(window.location.host,"/posts/deletePost/").concat(e),{headers:{token:t}}).then((function(e){e.data.message&&window.alert(e.data.message),window.location.reload()})).catch((function(e){window.alert("some error occured please check console"),console.log(e)}))},V=function(){at.get("https://".concat(window.location.host,"/users/friends"),{headers:{token:t}}).then((function(e){e.data.message&&window.alert(e.data.message),e.data.friendsData&&_(e.data.friendsData)})).catch((function(e){window.alert("some error occured please check console"),console.log(e)}))};return Object(P.jsxs)(o.a.Fragment,{children:[Object(P.jsxs)($.a,{className:i.actionBar,children:[" ",Object(P.jsx)(v.a,{variant:"outlined",color:"primary",onClick:function(){I(!0)},children:"Profile Picture"}),Object(P.jsxs)(v.a,{variant:"outlined",color:"primary",onClick:function(){V(),q(!0)},style:{marginLeft:"10px"},children:["Friends ",Object(P.jsx)(Je.a,{})]})]}),Object(P.jsxs)(pe.a,{onClose:function(){I(!1)},"aria-labelledby":"customized-dialog-title",open:R,children:[Object(P.jsx)(be.a,{id:"customized-dialog-title",onClose:function(){I(!1)},children:Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[Object(P.jsx)("div",{children:" Profile Picture"})," ",Object(P.jsx)(He.a,{style:{cursor:"pointer","&:hover":{background:"#efefef"}},onClick:function(){I(!1)}})]})}),Object(P.jsx)(Ye.a,{dividers:!0,children:u.dp_url?Object(P.jsxs)(o.a.Fragment,{children:[Object(P.jsx)(D.a,{children:Object(P.jsxs)(v.a,{variant:"contained",className:i.activeButtons,component:"label",children:[Object(P.jsx)("input",{type:"file",accept:"image/*",onChange:J,hidden:!0}),"Change Profile Picture"]})}),x&&Object(P.jsxs)(o.a.Fragment,{children:[Object(P.jsx)(D.a,{style:{marginTop:"20px"},children:Object(P.jsx)("img",{alt:"uploaded",id:"target",src:w,width:"100%"})}),Object(P.jsx)(v.a,{variant:"contained",color:"primary",style:{marginTop:"20px"},className:i.activeButtons,onClick:Q,children:"Change"})]})]}):Object(P.jsxs)(o.a.Fragment,{children:[Object(P.jsx)(D.a,{children:Object(P.jsxs)(v.a,{variant:"contained",className:i.activeButtons,component:"label",children:[Object(P.jsx)("input",{type:"file",accept:"image/*",onChange:J,hidden:!0})," ","Set Profile Picture"]})}),x&&Object(P.jsxs)(o.a.Fragment,{children:[Object(P.jsx)(D.a,{style:{marginTop:"20px"},children:Object(P.jsx)("img",{alt:"uploaded",id:"target",src:w,width:"100%"})}),Object(P.jsx)(v.a,{variant:"contained",color:"primary",style:{marginTop:"20px"},className:i.activeButtons,onClick:Q,children:"Set"})]})]})})]}),Object(P.jsxs)(pe.a,{onClose:function(){q(!1)},"aria-labelledby":"customized-dialog-title",open:U,children:[Object(P.jsx)(be.a,{id:"customized-dialog-title",onClose:function(){q(!1)},children:Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[Object(P.jsx)("div",{children:" Friends"})," ",Object(P.jsx)(He.a,{style:{cursor:"pointer"},onClick:function(){q(!1)}})]})}),Object(P.jsx)(Ye.a,{dividers:!0,children:S?S.map((function(e,a){return Object(P.jsx)(nt,{kry:a,updateProps:V,token:t,viewer:n,friend:e})})):Object(P.jsx)(D.a,{variant:"body1",align:"left",children:"You dont have any friends"})})]}),Object(P.jsxs)($.a,{style:{padding:"20px",margin:"20px",marginBottom:0},children:[Object(P.jsx)(D.a,{variant:"h5",align:"left",children:Object(P.jsx)("b",{children:"Coins in Account "})}),Object(P.jsxs)(D.a,{variant:"h4",color:"textPrimary",align:"left",style:{margin:0,padding:0},children:[Object(P.jsx)("img",{src:"https://i.ibb.co/hYqQxM9/dollar-2.png",alt:"coin-icon",width:27})," ",u.coins]})]}),Object(P.jsxs)($.a,{style:{padding:"20px",margin:"20px"},children:[Object(P.jsx)(D.a,{variant:"h5",align:"left",children:Object(P.jsx)("b",{children:"Your Posts"})}),(null===s||void 0===s?void 0:s.length)?s.map((function(e,t){return"image"===e.type?Object(P.jsxs)($.a,{style:{padding:"20px",margin:"20px",marginBottom:0},children:[Object(P.jsxs)(D.a,{variant:"caption",align:"left",style:{margin:0,padding:0,color:"#696969"},children:["You at"," ",new Date(e.time).getHours()+":"+new Date(e.time).getMinutes()+" on "+new Date(e.time).getDate()+"/"+new Date(e.time).getMonth()+"/"+new Date(e.time).getFullYear()]}),Object(P.jsx)(D.a,{variant:"body1",color:"textPrimary",align:"left",style:{margin:0,padding:0},children:Object(P.jsx)("img",{src:e.image_url,alt:"post1",width:"100%",style:{margin:0,padding:0}})}),e.caption&&Object(P.jsx)(D.a,{variant:"body1",color:"textPrimary",align:"left",style:{margin:0,padding:0},children:e.caption}),Object(P.jsxs)(D.a,{variant:"body1",color:"textPrimary",align:"left",children:[Object(P.jsx)("b",{children:"Likes :"})," ",e.likes]}),e.coins_needed>0?Object(P.jsxs)(D.a,{variant:"body1",color:"textPrimary",align:"left",children:[Object(P.jsx)("b",{children:"Coins Earned :"}),e.coins_earned]}):Object(P.jsx)(D.a,{variant:"body1",color:"textPrimary",align:"left",children:"CoinLock was not used"}),Object(P.jsx)(D.a,{align:"right",children:Object(P.jsx)(v.a,{variant:"contained",onClick:function(){Z(e._id)},children:Object(P.jsx)(We.a,{})})})]},t):"text"===e.type&&Object(P.jsxs)($.a,{style:{padding:"20px",margin:"20px",marginBottom:0},children:[Object(P.jsxs)(D.a,{variant:"caption",align:"left",style:{margin:0,padding:0,color:"#696969"},children:["You at"," ",new Date(e.time).getHours()+":"+new Date(e.time).getMinutes()+" on "+new Date(e.time).getDate()+"/"+new Date(e.time).getMonth()+"/"+new Date(e.time).getFullYear()]}),Object(P.jsx)(D.a,{variant:"body1",color:"textPrimary",align:"left",style:{margin:0,padding:0},children:e.text}),Object(P.jsxs)(D.a,{variant:"body1",color:"textPrimary",align:"left",children:[Object(P.jsx)("b",{children:"Likes :"})," ",e.likes]}),e.coins_needed>0?Object(P.jsxs)(D.a,{variant:"body1",color:"textPrimary",align:"left",children:[Object(P.jsx)("b",{children:"Coins Earned :"}),e.coins_earned]}):Object(P.jsx)(D.a,{variant:"body1",color:"textPrimary",align:"left",children:"CoinLock was not used"}),Object(P.jsx)(D.a,{align:"right",children:Object(P.jsx)(v.a,{variant:"contained",onClick:function(){Z(e._id)},children:Object(P.jsx)(We.a,{})})})]},t)})):Object(P.jsx)(D.a,{variant:"body1",color:"textPrimary",align:"left",children:"You dont have any posts"})]}),Object(P.jsxs)(pe.a,{onClose:function(){L(!1)},"aria-labelledby":"simple-dialog-title",open:E,children:[Object(P.jsx)(be.a,{id:"simple-dialog-title",children:"Uploading..."}),Object(P.jsx)(ge.a,{variant:"determinate",value:z})]})]})},ct=n(16),rt=function(e){var t=e.token,n=e.viewer,i=Object(a.useState)([]),c=Object(l.a)(i,2),r=c[0],s=c[1],d=function(){ct.get("https://".concat(window.location.host,"/posts/getFeed"),{headers:{token:t}}).then((function(e){e.data.message&&window.alert(e.data.message),e.data.feed&&s(e.data.feed)})).catch((function(e){window.alert("Some error occured please check console"),console.log(e)}))};Object(a.useEffect)((function(){d()}),[]);var j=function(e){ct.get("https://".concat(window.location.host,"/posts/likePost/").concat(e),{headers:{token:t}}).then((function(e){e.data.message&&window.alert(e.data.message),d()})).catch((function(e){window.alert("some error occured please check console"),console.log(e)}))},h=function(){var e=Object(Ue.a)(Be.a.mark((function e(n){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(Ue.a)(Be.a.mark((function e(a){var o;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ct.get("https://".concat(window.location.host,"/posts/unlockPost/").concat(n),{headers:{token:t}});case 3:(o=e.sent).data.message&&window.alert(o.data.message),o.data.unlocked&&a(!0),a(!1),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),window.alert("some error occured please check console"),console.log(e.t0),a(!1);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsx)(o.a.Fragment,{children:Object(P.jsxs)($.a,{style:{padding:"20px",margin:"20px"},children:[Object(P.jsx)(D.a,{variant:"h5",color:"textPrimary",align:"left",children:Object(P.jsx)("b",{children:" Your Feed "})}),(null===r||void 0===r?void 0:r.length)?r.map((function(e,t){return Object(P.jsx)(et,{post:e,likePost:j,unlockPost:h,viewer:n},t)})):Object(P.jsx)(D.a,{variant:"body1",color:"textPrimary",align:"left",children:"Follow people and their posts will show up here"})]})})},st=n(16),lt=function(){var e=localStorage.getItem("token")?localStorage.getItem("token"):sessionStorage.getItem("token"),t=Object(a.useState)({}),n=Object(l.a)(t,2),o=n[0],i=n[1],c=Object(a.useState)("home"),s=Object(l.a)(c,2),d=s[0],j=s[1];Object(a.useEffect)((function(){e?st.get("https://".concat(window.location.host,"/users/single_user"),{headers:{token:e}}).then((function(e){i(e.data)})).catch((function(e){window.alert("some error occured please check console"),console.log(e)})):(window.alert("You are not logged in"),window.location.replace("https://".concat(window.location.host,"/login")))}),[e]);return Object(P.jsxs)(r.a,{children:[Object(P.jsx)(se.a,{}),Object(P.jsxs)("div",{style:{height:"100vh",backgroundColor:"#f2f4f5"},children:[Object(P.jsx)(V,{user:o,active:d,setLocation:j})," ",Object(P.jsx)("div",{style:{paddingBottom:20},children:"requests"===d?Object(P.jsx)(Ie,{user:o,token:e,viewer:o,updateProps:function(){e&&st.get("https://".concat(window.location.host,"/users/single_user"),{headers:{token:e}}).then((function(e){i(e.data)})).catch((function(e){window.alert("some error occured please check console"),console.log(e)}))}}):"post"===d?Object(P.jsx)(Ee,{token:e}):"profile"===d?Object(P.jsx)(it,{token:e,viewer:o}):"home"===d&&Object(P.jsx)(rt,{token:e,viewer:o})})]})]})},dt=function(e){var t=e.match.params.token,n=Object(a.useState)(""),o=Object(l.a)(n,2),i=o[0],c=o[1];return Object(P.jsx)(ne.a,{children:Object(P.jsxs)($.a,{elevation:10,style:{padding:20,height:"70vh",width:280,margin:"20px auto"},children:[Object(P.jsxs)(ne.a,{align:"center",children:[Object(P.jsx)(ee.a,{style:{backgroundColor:"rgb(51, 70, 176)"},children:Object(P.jsx)(ie.a,{style:{backgroundColor:"rgb(51, 70, 176)"}})}),Object(P.jsx)("h2",{style:{marginTop:"20px"},children:"Reset Password"})]}),Object(P.jsx)(te.a,{label:"New Password",placeholder:"Enter new password",type:"password",fullWidth:!0,required:!0,style:{marginTop:"7px"},value:i,onChange:function(e){c(e.target.value)}}),Object(P.jsx)(v.a,{type:"submit",color:"primary",variant:"contained",style:{margin:"8px 0",marginTop:"68px"},fullWidth:!0,onClick:function(){i.length<6?window.alert("Password should be more than 6"):re.a.put("https://".concat(window.location.host,"/users/changePassword"),{password:i},{headers:{token:t}}).then((function(e){return e.data})).then((function(e){400===e.status?window.alert(e.message):(window.alert(e.message),window.location.replace("https://".concat(window.location.host,"/login")))})).catch((function(e){console.log(e)}))},children:"Reset"})]})})},jt=n(114),ht=n.n(jt),ut=Object(g.a)((function(e){return{root:{flexGrow:1,width:"100%"},menuButton:{marginRight:e.spacing(2)},button_menu:{color:"white"},title:{flexGrow:1}}})),bt=function(e){var t=e.match.params.token,n=ut();Object(a.useEffect)((function(){o()}),[]);var o=function(){re.a.get("https://".concat(window.location.host,"/users/verifyUser/").concat(t)).then((function(e){return e.data})).then((function(e){400===e.status?window.alert(e.message):(window.alert(e.message),window.location.replace("https://".concat(window.location.host,"/login")))})).catch((function(e){window.alert("some error occured please check console"),console.log(e)}))};return Object(P.jsxs)(r.a,{children:[Object(P.jsx)("div",{className:n.root,children:Object(P.jsx)(F.a,{position:"static",style:{marginBottom:"5px"},children:Object(P.jsxs)(B.a,{children:[Object(P.jsx)(f.a,{href:"/",edge:"start",className:n.menuButton,color:"inherit","aria-label":"home",children:Object(P.jsx)(ht.a,{})}),Object(P.jsx)(D.a,{variant:"h6",className:n.title,children:"Verification Page"}),Object(P.jsx)("div",{children:Object(P.jsx)(v.a,{className:n.button_menu,"aria-controls":"simple-menu","aria-haspopup":"true",href:"/login",children:"Log In"})})]})})}),Object(P.jsx)(D.a,{style:{marginTop:"5px"},variant:"h5",component:"h2",align:"center",gutterBottom:!0,children:"You have been verified"})]})},pt=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],o=t[1];return Object(P.jsx)(ne.a,{children:Object(P.jsxs)($.a,{elevation:10,style:{padding:20,height:"70vh",width:280,margin:"20px auto"},children:[Object(P.jsxs)(ne.a,{align:"center",children:[Object(P.jsx)(ee.a,{style:{backgroundColor:"rgb(51, 70, 176)"},children:Object(P.jsx)(ie.a,{style:{backgroundColor:"rgb(51, 70, 176)"}})}),Object(P.jsx)("h2",{style:{marginTop:"20px"},children:"Forgot Password"})]}),Object(P.jsx)(te.a,{label:"Email",placeholder:"Enter Email",type:"Email",fullWidth:!0,required:!0,style:{marginTop:"7px"},value:n,onChange:function(e){o(e.target.value)}}),Object(P.jsx)(v.a,{type:"submit",color:"primary",variant:"contained",style:{margin:"8px 0",marginTop:"68px"},fullWidth:!0,onClick:function(){re.a.put("https://".concat(window.location.host,"/users/forgotPassword/").concat(n)).then((function(e){return e.data})).then((function(e){400===e.status?window.alert(e.message):(window.alert(e.message),window.location.replace("https://".concat(window.location.host,"/login")))})).catch((function(e){window.alert("some error occured please check console"),console.log(e)}))},children:"Send mail"})]})})},gt=function(){return Object(P.jsx)(r.a,{children:Object(P.jsxs)(s.c,{children:[Object(P.jsx)(s.a,{exact:!0,path:"/",component:ye}),Object(P.jsx)(s.a,{exact:!0,path:"/dashboard",component:K}),Object(P.jsx)(s.a,{exact:!0,path:"/login",component:ue}),Object(P.jsx)(s.a,{exact:!0,path:"/register",component:Oe}),Object(P.jsx)(s.a,{exact:!0,path:"/userPage",component:lt}),Object(P.jsx)(s.a,{exact:!0,path:"/forgotPassword",component:pt}),Object(P.jsx)(s.a,{path:"/resetPassword/:token",component:dt}),Object(P.jsx)(s.a,{path:"/verifyUser/:token",component:bt}),Object(P.jsx)(s.a,{component:ve})]})})};c.a.render(Object(P.jsx)(gt,{}),document.getElementById("root"))}},[[173,1,2]]]);
//# sourceMappingURL=main.bdb1b672.chunk.js.map